<p class="text-green-600 mb-4"><%= notice %></p>

<%= turbo_stream_from "chat_#{@chat.id}" %>

<% content_for :title, "Chat" %>

<h1 class="text-2xl font-bold mb-2">Chat <%= @chat.id %></h1>
<p class="text-gray-600 mb-6">Using <strong><%= @chat.model_association.name %></strong></p>

<div id="messages" class="space-y-4 bg-gray-50 p-4 rounded-lg border">
  <% @chat.messages_association.where.not(id: nil).each do |message| %>
    <%= render "messages/message", message: message %>
  <% end %>
</div>

<div class="mt-6">
  <%= render "messages/form", chat: @chat, message: @message %>
</div>

<div class="mt-4">
  <%= link_to "Back to chats", chats_path, class: "text-blue-600 hover:underline" %>
</div>
